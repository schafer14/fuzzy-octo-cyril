0 info it worked if it ends with ok
1 verbose cli [ '/usr/local/bin/node',
1 verbose cli   '/usr/local/bin/npm',
1 verbose cli   'install',
1 verbose cli   '-g',
1 verbose cli   'migrate' ]
2 info using npm@1.3.8
3 info using node@v0.10.18
4 verbose cache add [ 'migrate', null ]
5 verbose cache add name=undefined spec="migrate" args=["migrate",null]
6 verbose parsed url { protocol: null,
6 verbose parsed url   slashes: null,
6 verbose parsed url   auth: null,
6 verbose parsed url   host: null,
6 verbose parsed url   port: null,
6 verbose parsed url   hostname: null,
6 verbose parsed url   hash: null,
6 verbose parsed url   search: null,
6 verbose parsed url   query: null,
6 verbose parsed url   pathname: 'migrate',
6 verbose parsed url   path: 'migrate',
6 verbose parsed url   href: 'migrate' }
7 silly lockFile ce5070ef-migrate migrate
8 verbose lock migrate /home/banner/.npm/ce5070ef-migrate.lock
9 silly lockFile ce5070ef-migrate migrate
10 silly lockFile ce5070ef-migrate migrate
11 verbose addNamed [ 'migrate', '' ]
12 verbose addNamed [ null, '*' ]
13 silly lockFile c47f974e-migrate migrate@
14 verbose lock migrate@ /home/banner/.npm/c47f974e-migrate.lock
15 silly addNameRange { name: 'migrate', range: '*', hasData: false }
16 verbose url raw migrate
17 verbose url resolving [ 'https://registry.npmjs.org/', './migrate' ]
18 verbose url resolved https://registry.npmjs.org/migrate
19 info trying registry request attempt 1 at 19:16:11
20 verbose etag "28E1S6JP9PM8X6J6DG68NW7W5"
21 http GET https://registry.npmjs.org/migrate
22 http 304 https://registry.npmjs.org/migrate
23 silly registry.get cb [ 304,
23 silly registry.get   { date: 'Mon, 10 Feb 2014 03:16:12 GMT',
23 silly registry.get     server: 'Apache',
23 silly registry.get     connection: 'Keep-Alive',
23 silly registry.get     'keep-alive': 'timeout=10, max=50',
23 silly registry.get     etag: '"28E1S6JP9PM8X6J6DG68NW7W5"',
23 silly registry.get     'cache-control': 'max-age=1',
23 silly registry.get     vary: 'Accept' } ]
24 verbose etag migrate from cache
25 silly addNameRange number 2 { name: 'migrate', range: '*', hasData: true }
26 silly addNameRange versions [ 'migrate',
26 silly addNameRange   [ '0.0.1',
26 silly addNameRange     '0.0.2',
26 silly addNameRange     '0.0.3',
26 silly addNameRange     '0.0.4',
26 silly addNameRange     '0.0.5',
26 silly addNameRange     '0.1.0',
26 silly addNameRange     '0.1.1',
26 silly addNameRange     '0.1.2',
26 silly addNameRange     '0.1.3',
26 silly addNameRange     '0.1.4' ] ]
27 verbose addNamed [ 'migrate', '0.1.4' ]
28 verbose addNamed [ '0.1.4', '0.1.4' ]
29 silly lockFile fe5909f7-migrate-0-1-4 migrate@0.1.4
30 verbose lock migrate@0.1.4 /home/banner/.npm/fe5909f7-migrate-0-1-4.lock
31 silly lockFile fe5909f7-migrate-0-1-4 migrate@0.1.4
32 silly lockFile fe5909f7-migrate-0-1-4 migrate@0.1.4
33 silly lockFile c47f974e-migrate migrate@
34 silly lockFile c47f974e-migrate migrate@
35 silly resolved [ { name: 'migrate',
35 silly resolved     version: '0.1.4',
35 silly resolved     description: 'Abstract migration framework for node',
35 silly resolved     keywords: [ 'migrate', 'migrations' ],
35 silly resolved     author: { name: 'TJ Holowaychuk', email: 'tj@vision-media.ca' },
35 silly resolved     repository:
35 silly resolved      { type: 'git',
35 silly resolved        url: 'git://github.com/visionmedia/node-migrate' },
35 silly resolved     bin: { migrate: './bin/migrate' },
35 silly resolved     devDependencies: { should: '>= 0.0.1' },
35 silly resolved     main: 'index',
35 silly resolved     engines: { node: '>= 0.4.x' },
35 silly resolved     readme: '\n# migrate\n\n  Abstract migration framework for node\n\n## Installation\n\n    $ npm install migrate\n\n## Usage\n\n```\nUsage: migrate [options] [command]\n\nOptions:\n\n   -c, --chdir <path>   change the working directory\n\nCommands:\n\n   down             migrate down\n   up               migrate up (the default command)\n   create [title]   create a new migration file with optional [title]\n\n```\n\n## Creating Migrations\n\nTo create a migration, execute `migrate create` with an optional title. `node-migrate` will create a node module within `./migrations/` which contains the following two exports:\n\n    exports.up = function(next){\n      next();\n    };\n\n    exports.down = function(next){\n      next();\n    };\n\nAll you have to do is populate these, invoking `next()` when complete, and you are ready to migrate!\n\nFor example:\n\n    $ migrate create add-pets\n    $ migrate create add-owners\n\nThe first call creates `./migrations/000-add-pets.js`, which we can populate:\n\n      var db = require(\'./db\');\n\n      exports.up = function(next){\n        db.rpush(\'pets\', \'tobi\');\n        db.rpush(\'pets\', \'loki\');\n        db.rpush(\'pets\', \'jane\', next);\n      };\n\n      exports.down = function(next){\n        db.rpop(\'pets\');\n        db.rpop(\'pets\', next);\n      };\n\nThe second creates `./migrations/001-add-owners.js`, which we can populate:\n\n      var db = require(\'./db\');\n\n      exports.up = function(next){\n        db.rpush(\'owners\', \'taylor\');\n        db.rpush(\'owners\', \'tj\', next);\n      };\n\n      exports.down = function(next){\n        db.rpop(\'owners\');\n        db.rpop(\'owners\', next);\n      };\n\n## Running Migrations\n\nWhen first running the migrations, all will be executed in sequence.\n\n      $ migrate\n      up : migrations/000-add-pets.js\n      up : migrations/001-add-jane.js\n      up : migrations/002-add-owners.js\n      up : migrations/003-coolest-pet.js\n      migration : complete\n\nSubsequent attempts will simply output "complete", as they have already been executed in this machine. `node-migrate` knows this because it stores the current state in `./migrations/.migrate` which is typically a file that SCMs like GIT should ignore.\n\n      $ migrate\n      migration : complete\n\nIf we were to create another migration using `migrate create`, and then execute migrations again, we would execute only those not previously executed:\n\n      $ migrate\n      up : migrates/004-coolest-owner.js\n\nYou can also run migrations incrementally by specifying a migration.\n\n      $ migrate up 002-coolest-pet.js\n      up : migrations/000-add-pets.js\n      up : migrations/001-add-jane.js\n      up : migrations/002-add-owners.js\n      migration : complete\n\nThis will run up-migrations upto (and including) `002-coolest-pet.js`. Similarly you can run down-migrations upto (and including) a specific migration, instead of migrating all the way down.\n\n      $ migrate down 001-add-jane.js\n      down : migrations/002-add-owners.js\n      down : migrations/001-add-jane.js\n      migration : complete\n\n## License \n\n(The MIT License)\n\nCopyright (c) 2011 TJ Holowaychuk &lt;tj@vision-media.ca&gt;\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\'Software\'), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \'AS IS\', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.',
35 silly resolved     readmeFilename: 'Readme.md',
35 silly resolved     bugs: { url: 'https://github.com/visionmedia/node-migrate/issues' },
35 silly resolved     _id: 'migrate@0.1.4',
35 silly resolved     _from: 'migrate@' } ]
36 info install migrate@0.1.4 into /usr/local/lib
37 info installOne migrate@0.1.4
38 info /usr/local/lib/node_modules/migrate unbuild
39 verbose tar unpack /home/banner/.npm/migrate/0.1.4/package.tgz
40 silly lockFile d29635b5-r-local-lib-node-modules-migrate tar:///usr/local/lib/node_modules/migrate
41 verbose lock tar:///usr/local/lib/node_modules/migrate /home/banner/.npm/d29635b5-r-local-lib-node-modules-migrate.lock
42 silly lockFile 79775d77-er-npm-migrate-0-1-4-package-tgz tar:///home/banner/.npm/migrate/0.1.4/package.tgz
43 verbose lock tar:///home/banner/.npm/migrate/0.1.4/package.tgz /home/banner/.npm/79775d77-er-npm-migrate-0-1-4-package-tgz.lock
44 silly gunzTarPerm modes [ '755', '644' ]
45 silly gunzTarPerm extractEntry package.json
46 silly gunzTarPerm extractEntry .npmignore
47 silly gunzTarPerm extractEntry index.js
48 silly gunzTarPerm extractEntry .gitmodules
49 silly gunzTarPerm extractEntry History.md
50 silly gunzTarPerm extractEntry Makefile
51 silly gunzTarPerm extractEntry Readme.md
52 silly gunzTarPerm extractEntry bin/migrate
53 silly gunzTarPerm extractEntry lib/migrate.js
54 silly gunzTarPerm extractEntry lib/migration.js
55 silly gunzTarPerm extractEntry lib/set.js
56 silly lockFile d29635b5-r-local-lib-node-modules-migrate tar:///usr/local/lib/node_modules/migrate
57 silly lockFile d29635b5-r-local-lib-node-modules-migrate tar:///usr/local/lib/node_modules/migrate
58 silly lockFile 79775d77-er-npm-migrate-0-1-4-package-tgz tar:///home/banner/.npm/migrate/0.1.4/package.tgz
59 silly lockFile 79775d77-er-npm-migrate-0-1-4-package-tgz tar:///home/banner/.npm/migrate/0.1.4/package.tgz
60 info preinstall migrate@0.1.4
61 verbose readDependencies using package.json deps
62 verbose readDependencies using package.json deps
63 silly resolved []
64 verbose about to build /usr/local/lib/node_modules/migrate
65 info build /usr/local/lib/node_modules/migrate
66 verbose linkStuff [ true,
66 verbose linkStuff   '/usr/local/lib/node_modules',
66 verbose linkStuff   true,
66 verbose linkStuff   '/usr/local/lib/node_modules' ]
67 info linkStuff migrate@0.1.4
68 verbose linkBins migrate@0.1.4
69 verbose link bins [ { migrate: './bin/migrate' }, '/usr/local/bin', true ]
70 verbose linkMans migrate@0.1.4
71 verbose rebuildBundles migrate@0.1.4
72 info /usr/local/lib/node_modules/migrate unbuild
73 info preuninstall migrate@0.1.4
74 info uninstall migrate@0.1.4
75 verbose true,/usr/local/lib/node_modules,/usr/local/lib/node_modules unbuild migrate@0.1.4
76 verbose /usr/local/bin,[object Object] binRoot
77 error error rolling back Error: Refusing to delete: /usr/local/bin/migrate not in /usr/local/lib/node_modules/migrate
77 error error rolling back     at clobberFail (/usr/local/lib/node_modules/npm/lib/utils/gently-rm.js:41:12)
77 error error rolling back     at next (/usr/local/lib/node_modules/npm/lib/utils/gently-rm.js:27:14)
77 error error rolling back     at /usr/local/lib/node_modules/npm/lib/utils/gently-rm.js:36:12
77 error error rolling back     at Object.oncomplete (fs.js:107:15)
77 error error rolling back  migrate@0.1.4 { [Error: Refusing to delete: /usr/local/bin/migrate not in /usr/local/lib/node_modules/migrate] code: 'EEXIST', path: '/usr/local/bin/migrate' }
78 error Refusing to delete: /usr/local/bin/migrate not in /usr/local/lib/node_modules/migrate
File exists: /usr/local/bin/migrate
Move it away, and try again.
79 error System Linux 3.8.0-35-generic
80 error command "/usr/local/bin/node" "/usr/local/bin/npm" "install" "-g" "migrate"
81 error cwd /home/banner/Documents/node/snapstock
82 error node -v v0.10.18
83 error npm -v 1.3.8
84 error path /usr/local/bin/migrate
85 error code EEXIST
86 verbose exit [ 1, true ]
